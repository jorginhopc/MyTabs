<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>test mytabs</title>
     <script type="text/javascript" src="jquery-1.10.2.js"></script>
     <script type="text/javascript" src="jquery-ui.js"></script>
	  <script type="text/javascript" src="jquery.transposer.js"></script>
  <link rel="stylesheet" type="text/css" href="jquery.transposer.css" />
      <style>
  .c { cursor: e-resize; } 
  pre, .transpose-keys {   
	margin-left: 120px;
	width: 70%;
	border: }
	
	#chords_list {position: absolute;
    left: 0px;
    width: 100px;
    background-color: #b0e0e6;}
	
		
	#purge {position: absolute;
    right: 0px;
    width: 50px;
	height: 100%
    background-color: #CC4444;}
	
    </style>
	  <script> 
    $(function() {
		    $( "body" ).bind('paste', function(e) {
			$( "pre" ).transpose();
			
			var data = e.originalEvent.clipboardData.getData('text/plain');
		    var lines = data.split("\n");
 
			for(var n = 0; n < lines.length; n++) {
			
			  var o = "";
              for (var i = 0; i < lines[n].length; i++) o = o+" ";
		       var span = $( document.createElement('span') );
			   $( "pre" ).append("<span class='chord_line'>" + o + "</span>\n" );
				$( "pre" ).append("<span>" + lines[n] + "</span>\n");
				
			  // $( "pre" ).append( o );
			  //	$( "pre" ).append(lines[n]);
				
			}
			
			    $( ".chord_line" ).droppable({
      activeClass: "ui-state-default",
      hoverClass: "ui-state-hover",
      accept: ".objDrag",
      drop: function( event, ui ) {
	    var _left = ui.helper.offset().left - this.offsetWidth - this.offsetLeft;
        var x  = $( "<span></span>" ).attr("class","c ui-draggable ui-draggable-handle").attr("style","position: relative; left: " + _left + "px" ).append(ui.draggable.text() );
		x.draggable({ axis: "x" });
		x.appendTo( this );
      }
    });
		
		return false;
				
		});
	});
  </script>
  </head>
<body style="margin: 30px">

<div>

<div id="chords_list">
  <span class="objDrag">F#m7</span>
</div>

  <pre data-key="C">
  </pre>
  <div id="purge">kk </div>
  
  </div>
 

	 
	
 <script type="text/javascript">
    $(function() {
    //	$("pre").transpose();
    });
 </script>
  <script> 
    $(function() {
		$( ".c" ).draggable({ axis: "x" });
	});
  </script>
  
  	<script>
  $(function() {
    $( ".objDrag" ).draggable({
      appendTo: "body",
      helper: "clone"
    });
    $( ".chord_line" ).droppable({
      activeClass: "ui-state-default",
      hoverClass: "ui-state-hover",
      accept: ".objDrag",
      drop: function( event, ui ) {
	    var _left = ui.helper.offset().left - this.offsetWidth - this.offsetLeft;
        var x  = $( "<span></span>" ).attr("class","c ui-draggable ui-draggable-handle").attr("style","position: relative; left: " + _left + "px" ).append(ui.draggable.text() );
		x.draggable({ axis: "x" });
		x.appendTo( this );
      }
    });
  });
  </script>
  
  
</body>
</html>